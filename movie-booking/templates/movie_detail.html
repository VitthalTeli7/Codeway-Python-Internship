{% extends 'base.html' %}
{% block title %}{{ movie.title }} - Movie Booking{% endblock %}
{% block content %}
<div class="row">
  <div class="col-md-4">
    {% if movie.poster_url %}
      <img src="{{ movie.poster_url }}" class="img-fluid rounded" alt="{{ movie.title }} poster">
    {% endif %}
  </div>
  <div class="col-md-8">
    <h2>{{ movie.title }}</h2>
    <p>{{ movie.description }}</p>
    <p><strong>Duration:</strong> {{ movie.duration_minutes }} minutes</p>

    <h4 class="mt-4">Showtimes</h4>
    <ul class="list-group">
      {% for st in movie.showtimes %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <span>{{ st.start_time.strftime('%Y-%m-%d %H:%M') }}</span>
          <span>
            <span class="badge text-bg-secondary me-2">${{ '%.2f'|format(st.ticket_price) }}</span>
            <a class="btn btn-sm btn-primary" href="{{ url_for('showtime_detail', showtime_id=st.id) }}">Select Seats</a>
          </span>
        </li>
      {% endfor %}
    </ul>
  </div>
</div>
{% endblock %}